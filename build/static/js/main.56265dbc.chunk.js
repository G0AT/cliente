(this.webpackJsonpkonan_sma=this.webpackJsonpkonan_sma||[]).push([[0],{44:function(e,a,t){},68:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t(1),c=t.n(n),o=t(16),s=t.n(o),l=(t(44),t(15)),i=t(5),u=t(13),j=t(2),b=t(6),m=Object(n.createContext)(),d=Object(n.createContext)(),p=function(e){var a=Object(n.useContext)(m),t=a.alerta,c=a.mostrarAlerta,o=Object(n.useContext)(d),s=o.mensaje,i=o.autenticado,p=o.iniciarSesion;Object(n.useEffect)((function(){i&&e.history.push("/maletas"),s&&c(s.msg,s.categoria)}),[s,i,e.history]);var O=Object(n.useState)({email:"",password:""}),h=Object(b.a)(O,2),x=h[0],f=h[1],v=x.email,g=x.password,y=function(e){f(Object(j.a)(Object(j.a)({},x),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(r.jsxs)("div",{className:"form-usuario",children:[t?Object(r.jsx)("div",{className:"alerta ".concat(t.categoria),children:t.msg}):null,Object(r.jsxs)("div",{className:"contenedor-form sombra-dark",children:[Object(r.jsx)("h1",{children:"Iniciar Sesi\xf3n"}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==v.trim()&&""!==g.trim()||c("Todos los campos son obligatorios","alerta-error"),p({email:v,password:g})},children:[Object(r.jsxs)("div",{className:"campo-form",children:[Object(r.jsx)("label",{htmlFor:"email",children:"Email"}),Object(r.jsx)("input",{type:"email",id:"email",name:"email",value:v,placeholder:"tu@email",onChange:y})]}),Object(r.jsxs)("div",{className:"campo-form",children:[Object(r.jsx)("label",{htmlFor:"password",children:"Contrase\xf1a"}),Object(r.jsx)("input",{type:"password",id:"password",name:"password",value:g,placeholder:"********",onChange:y})]}),Object(r.jsx)("div",{className:"campo-form",children:Object(r.jsx)("input",{type:"submit",className:"btn btn-primario btn-block",value:"Iniciar Sesi\xf3n"})})]}),Object(r.jsx)(l.b,{to:"/nueva-cuenta",className:"enlace-cuenta",children:"Registrarse"})]})]})},O=function(e){var a=Object(n.useContext)(m),t=a.alerta,c=a.mostrarAlerta,o=Object(n.useContext)(d),s=o.mensaje,i=o.autenticado,p=o.registrarUsuario;Object(n.useEffect)((function(){i&&e.history.push("/maletas"),s&&c(s.msg,s.categoria)}),[s,i,e.history]);var O=Object(n.useState)({nombre:"",email:"",password:"",confirmar:""}),h=Object(b.a)(O,2),x=h[0],f=h[1],v=x.nombre,g=x.email,y=x.password,N=x.confirmar,A=function(e){f(Object(j.a)(Object(j.a)({},x),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(r.jsxs)("div",{className:"form-usuario",children:[t?Object(r.jsx)("div",{className:"alerta ".concat(t.categoria),children:t.msg}):null,Object(r.jsxs)("div",{className:"contenedor-form sombra-dark",children:[Object(r.jsx)("h1",{children:"Registro de usuario"}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==v.trim()&&""!==g.trim()&&""!==y.trim()&&""!==N.trim()?y.length<8?c("La contrase\xf1a debe contener al menos 8 caracteres","alerta-error"):y===N?p({nombre:v,email:g,password:y}):c("Las contrase\xf1as no son similares","alerta-error"):c("Todos los campos son obligatorios","alerta-error")},children:[Object(r.jsxs)("div",{className:"campo-form",children:[Object(r.jsx)("label",{htmlFor:"nombre",children:"Nombre"}),Object(r.jsx)("input",{type:"text",id:"nombre",name:"nombre",value:v,placeholder:"Nombre completo",onChange:A})]}),Object(r.jsxs)("div",{className:"campo-form",children:[Object(r.jsx)("label",{htmlFor:"email",children:"Email"}),Object(r.jsx)("input",{type:"email",id:"email",name:"email",value:g,placeholder:"tu@email",onChange:A})]}),Object(r.jsxs)("div",{className:"campo-form",children:[Object(r.jsx)("label",{htmlFor:"password",children:"Contrase\xf1a"}),Object(r.jsx)("input",{type:"password",id:"password",name:"password",value:y,placeholder:"********",onChange:A})]}),Object(r.jsxs)("div",{className:"campo-form",children:[Object(r.jsx)("label",{htmlFor:"confirmar",children:"Confirmar contrase\xf1a"}),Object(r.jsx)("input",{type:"password",id:"confirmar",name:"confirmar",value:N,placeholder:"********",onChange:A})]}),Object(r.jsx)("div",{className:"campo-form",children:Object(r.jsx)("input",{type:"submit",className:"btn btn-primario btn-block",value:"Registrarse"})})]}),Object(r.jsx)(l.b,{to:"/",className:"enlace-cuenta",children:"Ya tengo un usuario"})]})]})},h=Object(n.createContext)(),x=function(){var e=Object(n.useContext)(h),a=e.formulario,t=e.errorFormulario,c=e.mostrarFormulario,o=e.agregarMaletas,s=e.mostrarError,l=Object(n.useState)({nombre:""}),i=Object(b.a)(l,2),m=i[0],d=i[1],p=m.nombre,O=function(e){e.preventDefault(),""!==p?(o(m),d({nombre:""})):s()};return Object(r.jsxs)(n.Fragment,{children:[Object(r.jsx)("button",{type:"button",className:"btn btn-block btn-primario",onClick:function(){c()},children:"Nuevo Grupo"}),a?Object(r.jsxs)("form",{className:"formulario-nuevo-producto",onSubmit:O,children:[Object(r.jsx)("input",{type:"text",className:"input-text",placeholder:"Nombre Grupo",name:"nombre",value:p,onChange:function(e){d(Object(j.a)(Object(j.a)({},m),{},Object(u.a)({},e.target.name,e.target.value)))}}),Object(r.jsx)("input",{type:"submit",className:"btn btn-block btn-primario",value:"Agregar Grupo",onSubmit:O})]}):null,t?Object(r.jsx)("p",{className:"mensaje error",children:"El nombre del grupo es obligatorio"}):null]})},f=Object(n.createContext)(),v=function(e){var a=e.maleta,t=Object(n.useContext)(h).maletaActual,c=Object(n.useContext)(f).obtenerMaterial;return Object(r.jsx)("li",{children:Object(r.jsx)("button",{type:"button",className:"btn btn-blank",onClick:function(){return e=a._id,t(e),void c(e);var e},children:a.nombre})})},g=t(70),y=t(69),N=function(){var e=Object(n.useContext)(h),a=e.mensaje,t=e.maletas,c=e.obtenerMaletas,o=Object(n.useContext)(m),s=o.alerta,l=o.mostrarAlerta;return Object(n.useEffect)((function(){a&&l(a.msg,a.categoria),c()}),[a]),0===t.length?Object(r.jsx)("p",{children:"No existen grupos, cree uno para comenzar"}):0===t.length?null:Object(r.jsxs)("ul",{className:"Listado-productos",children:[s?Object(r.jsx)("div",{className:"alerta ".concat(s.categoria),children:s.msg}):null,Object(r.jsx)(g.a,{children:t.map((function(e){return Object(r.jsx)(y.a,{timeout:300,classNames:"productos",children:Object(r.jsx)(v,{maleta:e})},e._id)}))})]})},A=function(){return Object(r.jsxs)("aside",{children:[Object(r.jsxs)("h1",{children:["Konan ",Object(r.jsx)("span",{children:"sma"})]}),Object(r.jsx)(x,{}),Object(r.jsxs)("div",{className:"productos",children:[Object(r.jsx)("h2",{children:"Tus Grupos"}),Object(r.jsx)(N,{})]})]})},M=function(e){var a=Object(n.useContext)(d),t=a.usuario,c=a.usuarioAutenticado,o=a.cerrarSesion;return Object(n.useEffect)((function(){c()}),[]),Object(r.jsxs)("div",{className:"app-header",children:[t?Object(r.jsxs)("p",{className:"nombre-usuario",children:["Hola ",Object(r.jsxs)("span",{children:[" ",t.nombre," "]})," "]}):null,Object(r.jsx)("nav",{className:"nav-principal",children:Object(r.jsx)("button",{className:"btn btn-blank cerrar-sesion",onClick:function(){return o()},children:"Cerrar sesi\xf3n"})})]})},k=function(){var e=Object(n.useContext)(h).maleta,a=Object(n.useContext)(f),t=a.materialSeleccionado,c=a.errorMaterial,o=a.agregarMaterial,s=a.validarMaterial,l=a.obtenerMaterial,i=a.actualizarMaterial,m=a.limpiarMaterial;Object(n.useEffect)((function(){x(null!==t?t:{nombre:"",principal:"",subalmacen:"",codigo:""})}),[t]);var d=Object(n.useState)({nombre:"",principal:"",subalmacen:"",codigo:""}),p=Object(b.a)(d,2),O=p[0],x=p[1],v=O.nombre,g=O.principal,y=O.subalmacen,N=O.codigo,A=function(e){x(Object(j.a)(Object(j.a)({},O),{},Object(u.a)({},e.target.name,e.target.value)))};if(!e)return null;var M=Object(b.a)(e,1)[0];return Object(r.jsxs)("div",{className:"formulario",children:[Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==v.trim()&&""!==g.trim()&&""!==y.trim()&&""!==N.trim()?(null===t?(O.maleta=M._id,o(O)):(i(O),m(O)),l(M.id),x({nombre:"",principal:"",subalmacen:"",codigo:""})):s()},children:[Object(r.jsxs)("div",{className:"contenedor-input",children:[Object(r.jsx)("input",{type:"text",className:"input-text",placeholder:"Nombre Material",name:"nombre",value:v,onChange:A}),"\xa0",Object(r.jsx)("input",{type:"text",className:"input-text",placeholder:"Principal",name:"principal",value:g,onChange:A}),"\xa0",Object(r.jsx)("input",{type:"text",className:"input-text",placeholder:"Sub Almac\xe9n",name:"subalmacen",value:y,onChange:A}),"\xa0",Object(r.jsx)("input",{type:"text",className:"input-text",placeholder:"C\xf3digo",name:"codigo",value:N,onChange:A})]}),Object(r.jsx)("div",{className:"contenedor-input",children:Object(r.jsx)("input",{type:"submit",className:"btn btn-primario btn-submit btn-block",value:t?"Editar Material":"Agregar Material"})})]}),c?Object(r.jsx)("p",{className:"mensaje error",children:"Todos los campos son obligatorios"}):null]})},C=function(){return Object(r.jsxs)("li",{className:"tarea sombra cabecera",children:[Object(r.jsx)("p",{className:"title-header",children:"Nombre Material"}),Object(r.jsx)("p",{className:"title-header",children:"Existencia principal"}),Object(r.jsx)("p",{className:"title-header",children:"Sub Almac\xe9n"}),Object(r.jsx)("p",{className:"title-header",children:"C\xf3digo material"}),Object(r.jsx)("p",{className:"title-header",children:"Acciones"})]})},R=function(e){var a=e.material,t=Object(n.useContext)(h).maleta,c=Object(n.useContext)(f),o=c.eliminarMaterial,s=c.obtenerMaterial,l=c.actualizarMaterial,i=c.guardarMaterialActual,u=Object(b.a)(t,1)[0],j=function(e){e.estado?e.estado=!1:e.estado=!0,l(e)};return Object(r.jsxs)("li",{className:"tarea sombra",children:[Object(r.jsx)("p",{children:a.nombre}),Object(r.jsx)("p",{children:a.principal}),Object(r.jsx)("p",{children:a.subalmacen}),Object(r.jsx)("p",{children:a.codigo}),Object(r.jsx)("div",{className:"estado",children:a.estado?Object(r.jsx)("button",{type:"button",className:"completo",onClick:function(){return j(a)},children:"Vigente"}):Object(r.jsx)("button",{type:"button",className:"incompleto",onClick:function(){return j(a)},children:"Descontinuado"})}),Object(r.jsxs)("div",{className:"acciones",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-primario",onClick:function(){return function(e){i(e)}(a)},children:"Editar"}),Object(r.jsx)("button",{type:"button",className:"btn btn-secundario",onClick:function(){return e=a._id,o(e,u._id),void s(u.id);var e},children:"Eliminar"})]})]})},E=function(){var e=Object(n.useContext)(h),a=e.maleta,t=e.eliminarMaleta,c=Object(n.useContext)(f).materialesMaleta;if(!a)return Object(r.jsx)("h2",{children:"Selecciona un grupo"});var o=Object(b.a)(a,1)[0];return Object(r.jsxs)(n.Fragment,{children:[Object(r.jsxs)("h2",{children:["Usted ve: ",o.nombre]}),Object(r.jsx)("ul",{children:0===c.length?Object(r.jsx)("li",{className:"tarea",children:Object(r.jsx)("p",{children:"No hay material"})}):Object(r.jsxs)(n.Fragment,{children:[Object(r.jsx)(C,{}),Object(r.jsx)(g.a,{children:c.map((function(e){return Object(r.jsx)(y.a,{timeout:300,classNames:"tarea",children:Object(r.jsx)(R,{material:e})},e._id)}))})]})}),Object(r.jsx)("button",{type:"button",className:"btn btn-eliminar",onClick:function(){t(o._id)},children:"Eliminar Grupo"})]})},w=function(){var e=Object(n.useContext)(d).usuarioAutenticado;return Object(n.useEffect)((function(){e()}),[]),Object(r.jsxs)("div",{className:"contenedor-app",children:[Object(r.jsx)(A,{}),Object(r.jsxs)("div",{className:"seccion-principal",children:[Object(r.jsx)(M,{}),Object(r.jsxs)("main",{children:[Object(r.jsx)(k,{}),Object(r.jsx)("div",{className:"contenedor-productos",children:Object(r.jsx)(E,{})})]})]})]})},S=t(4),_=t.n(S),I=t(11),L=t(20),T="FORMULARIO_MALETA",F="OBTENER_MALETA",G="AGREGAR_MALETA",U="VALIDAR_FORMULARIO",D="MALETA_ACTUAL",P="ELIMINAR_MALETA",z="MALETA_ERROR",B="MATERIAL_MALETA",H="AGREGAR_MATERIAL",V="VALIDAR_MATERIAL",J="ELIMINAR_MATERIAL",X="MATERIAL_ACTUAL",K="ACTUALIZAR_MATERIAL",Y="LIMPIAR_MATERIAL",Z="MOSTRAR_ALERTA",q="OCULTAR_ALERTA",Q="REGISTRO_EXITOSO",W="REGISTRO_ERROR",$="OBTENER_USUARIO",ee="LOGIN_EXITOSO",ae="LOGIN_ERROR",te="CERRAR_SESION",re=function(e,a){switch(a.type){case T:return Object(j.a)(Object(j.a)({},e),{},{formulario:!0});case F:return Object(j.a)(Object(j.a)({},e),{},{maletas:a.payload});case G:return Object(j.a)(Object(j.a)({},e),{},{maletas:[].concat(Object(L.a)(e.maletas),[a.payload]),formulario:!1,errorFormulario:!1});case U:return Object(j.a)(Object(j.a)({},e),{},{errorFormulario:!0});case D:return Object(j.a)(Object(j.a)({},e),{},{maleta:e.maletas.filter((function(e){return e._id===a.payload}))});case P:return Object(j.a)(Object(j.a)({},e),{},{maletas:e.maletas.filter((function(e){return e._id!==a.payload})),maleta:null});case z:return Object(j.a)(Object(j.a)({},e),{},{mensaje:a.payload});default:return e}},ne=t(35),ce=t.n(ne).a.create({baseURL:"https://radiant-woodland-78879.herokuapp.com/"}),oe=function(e){var a=Object(n.useReducer)(re,{maletas:[],formulario:!1,errorFormulario:!1,maleta:null,mensaje:null}),t=Object(b.a)(a,2),c=t[0],o=t[1],s=function(){var e=Object(I.a)(_.a.mark((function e(){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.get("/api/maletas");case 3:a=e.sent,o({type:F,payload:a.data.maletas}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:z,payload:{msg:"Hubo un error",categoria:"alerta-error"}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(I.a)(_.a.mark((function e(a){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.post("/api/maletas",a);case 3:t=e.sent,o({type:G,payload:t.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:z,payload:{msg:"Hubo un error",categoria:"alerta-error"}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),i=function(){var e=Object(I.a)(_.a.mark((function e(a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.delete("/api/maletas/".concat(a));case 3:o({type:P,payload:a}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),o({type:z,payload:{msg:"Hubo un error",categoria:"alerta-error"}});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}();return Object(r.jsx)(h.Provider,{value:{errorFormulario:c.errorFormulario,maletas:c.maletas,formulario:c.formulario,maleta:c.maleta,mensaje:c.mensaje,mostrarFormulario:function(){o({type:T})},obtenerMaletas:s,agregarMaletas:l,mostrarError:function(){o({type:U})},maletaActual:function(e){o({type:D,payload:e})},eliminarMaleta:i},children:e.children})},se=function(e,a){switch(a.type){case B:return Object(j.a)(Object(j.a)({},e),{},{materialesMaleta:a.payload});case H:return Object(j.a)(Object(j.a)({},e),{},{materialesMaleta:[].concat(Object(L.a)(e.materialesMaleta),[a.payload]),errorMaterial:!1});case V:return Object(j.a)(Object(j.a)({},e),{},{errorMaterial:!0});case J:return Object(j.a)(Object(j.a)({},e),{},{materialesMaleta:e.materialesMaleta.filter((function(e){return e._id!==a.payload}))});case K:return Object(j.a)(Object(j.a)({},e),{},{materialesMaleta:e.materialesMaleta.map((function(e){return e._id===a.payload._id?a.payload:e}))});case X:return Object(j.a)(Object(j.a)({},e),{},{materialSeleccionado:a.payload});case Y:return Object(j.a)(Object(j.a)({},e),{},{materialSeleccionado:null});default:return e}},le=function(e){var a=Object(n.useReducer)(se,{materialesMaleta:[],errorMaterial:!1,materialSeleccionado:null}),t=Object(b.a)(a,2),c=t[0],o=t[1],s=function(){var e=Object(I.a)(_.a.mark((function e(a){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.get("/api/materiales/",{params:{maleta:a}});case 3:t=e.sent,o({type:B,payload:t.data.materiales}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),l=function(){var e=Object(I.a)(_.a.mark((function e(a){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.post("/api/materiales",a);case 3:t=e.sent,o({type:H,payload:t.data.material}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),i=function(){var e=Object(I.a)(_.a.mark((function e(a,t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.delete("/api/materiales/".concat(a),{params:{maleta:t}});case 3:o({type:J,payload:a}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),u=function(){var e=Object(I.a)(_.a.mark((function e(a){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.put("../api/materiales/".concat(a._id),a);case 3:t=e.sent,o({type:K,payload:t.data.material}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}();return Object(r.jsx)(f.Provider,{value:{materialesMaleta:c.materialesMaleta,errorMaterial:c.errorMaterial,materialSeleccionado:c.materialSeleccionado,obtenerMaterial:s,agregarMaterial:l,validarMaterial:function(){o({type:V})},eliminarMaterial:i,guardarMaterialActual:function(e){o({type:X,payload:e})},actualizarMaterial:u,limpiarMaterial:function(){o({type:Y})}},children:e.children})},ie=function(e,a){switch(a.type){case Z:return{alerta:a.payload};case q:return{alerta:null};default:return e}},ue=function(e){var a=Object(n.useReducer)(ie,{alerta:null}),t=Object(b.a)(a,2),c=t[0],o=t[1];return Object(r.jsx)(m.Provider,{value:{alerta:c.alerta,mostrarAlerta:function(e,a){o({type:Z,payload:{msg:e,categoria:a}}),setTimeout((function(){o({type:q})}),5e3)}},children:e.children})},je=function(e,a){switch(a.type){case Q:case ee:return localStorage.setItem("token",a.payload.token),Object(j.a)(Object(j.a)({},e),{},{autenticado:!0,mensaje:null,cargando:!1});case $:return Object(j.a)(Object(j.a)({},e),{},{autenticado:!0,usuario:a.payload,cargando:!1});case te:case ae:case W:return localStorage.removeItem("token"),Object(j.a)(Object(j.a)({},e),{},{token:null,usuario:null,autenticado:null,mensaje:a.payload,cargando:!1});default:return e}},be=function(e){e?ce.defaults.headers.common["x-auth-token"]=e:delete ce.defaults.headers.common["x-auth-token"]},me=function(e){var a={token:localStorage.getItem("token"),autenticado:null,usuario:null,mensaje:null,cargando:!0},t=Object(n.useReducer)(je,a),c=Object(b.a)(t,2),o=c[0],s=c[1],l=function(){var e=Object(I.a)(_.a.mark((function e(a){var t,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.post("/api/usuarios",a);case 3:t=e.sent,console.log(t.data),s({type:Q,payload:t.data}),i(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r={msg:e.t0.response.data.msg,categoria:"alerta-error"},s({type:W,payload:r});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}(),i=function(){var e=Object(I.a)(_.a.mark((function e(){var a,t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=localStorage.getItem("token"))){e.next=14;break}return a&&be(a),e.prev=3,e.next=6,ce.get("/api/auth");case 6:t=e.sent,s({type:$,payload:t.data.usuario}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0.response),s({type:ae});case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(I.a)(_.a.mark((function e(a){var t,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.post("/api/auth",a);case 3:t=e.sent,s({type:ee,payload:t.data}),i(),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data.msg),r={msg:e.t0.response.data.msg,categoria:"alerta-error"},s({type:ae,payload:r});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}();return Object(r.jsx)(d.Provider,{value:{token:o.token,autenticado:o.autenticado,usuario:o.usuario,mensaje:o.mensaje,cargando:o.cargando,registrarUsuario:l,iniciarSesion:u,usuarioAutenticado:i,cerrarSesion:function(){s({type:te})}},children:e.children})},de=t(36),pe=function(e){var a=e.component,t=Object(de.a)(e,["component"]),c=Object(n.useContext)(d),o=c.autenticado,s=c.cargando,l=c.usuarioAutenticado;return Object(n.useEffect)((function(){l()}),[]),Object(r.jsx)(i.b,Object(j.a)(Object(j.a)({},t),{},{render:function(e){return o||s?Object(r.jsx)(a,Object(j.a)({},e)):Object(r.jsx)(i.a,{to:"/"})}}))},Oe=localStorage.getItem("token");Oe&&be(Oe);var he=function(){return Object(r.jsx)(oe,{children:Object(r.jsx)(le,{children:Object(r.jsx)(ue,{children:Object(r.jsx)(me,{children:Object(r.jsx)(l.a,{children:Object(r.jsxs)(i.d,{children:[Object(r.jsx)(i.b,{exact:!0,path:"/",component:p}),Object(r.jsx)(i.b,{exact:!0,path:"/nueva-cuenta",component:O}),Object(r.jsx)(pe,{exact:!0,path:"/maletas",component:w})]})})})})})})},xe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,71)).then((function(a){var t=a.getCLS,r=a.getFID,n=a.getFCP,c=a.getLCP,o=a.getTTFB;t(e),r(e),n(e),c(e),o(e)}))};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(he,{})}),document.getElementById("root")),xe()}},[[68,1,2]]]);
//# sourceMappingURL=main.56265dbc.chunk.js.map